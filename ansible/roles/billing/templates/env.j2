# CIRISBilling Environment - Auto-generated by Ansible
# DO NOT COMMIT

# Environment (disables /docs, /openapi.json, secures /metrics)
ENV=production

# Database (Active/Active - both nodes read/write)
DATABASE_URL=postgresql+asyncpg://postgres:{{ postgres_password }}@ciris-postgres:5432/ciris_billing
DATABASE_READ_URL=postgresql+asyncpg://postgres:{{ postgres_password }}@ciris-postgres:5432/ciris_billing

# API
API_PORT=8000
API_HOST=0.0.0.0
LOG_LEVEL=INFO

# JWT
JWT_SECRET_KEY={{ jwt_secret_key }}

# Stripe (if configured)
{% if stripe_secret_key is defined %}
STRIPE_SECRET_KEY={{ stripe_secret_key }}
STRIPE_PUBLISHABLE_KEY={{ stripe_publishable_key }}
STRIPE_WEBHOOK_SECRET={{ stripe_webhook_secret }}
{% endif %}

# Google OAuth (for Android app verification)
{% if google_client_id is defined %}
GOOGLE_CLIENT_ID={{ google_client_id }}
GOOGLE_CLIENT_IDS={{ google_client_ids }}
GOOGLE_CLIENT_SECRET={{ google_client_secret }}
{% endif %}

# Android Play Integrity
{% if android_package_name is defined %}
ANDROID_PACKAGE_NAME={{ android_package_name }}
{% endif %}
{% if play_integrity_service_account is defined %}
PLAY_INTEGRITY_SERVICE_ACCOUNT={{ play_integrity_service_account }}
{% endif %}

# Admin JWT (separate from user JWT)
{% if admin_jwt_secret is defined %}
ADMIN_JWT_SECRET={{ admin_jwt_secret }}
{% endif %}

# Encryption key (for sensitive data at rest)
{% if encryption_key is defined %}
ENCRYPTION_KEY={{ encryption_key }}
{% endif %}

# CIRISLens token (for observability)
{% if cirislens_token is defined %}
CIRISLENS_TOKEN={{ cirislens_token }}
CIRISLENS_ENDPOINT=https://lens.{{ primary_domain }}/lens-api/api/v1/logs/ingest
{% endif %}

# Free tier
FREE_USES_PER_ACCOUNT=10
DAILY_FREE_USES=3
PAID_USES_PER_PURCHASE=50
PRICE_PER_PURCHASE_MINOR=499
